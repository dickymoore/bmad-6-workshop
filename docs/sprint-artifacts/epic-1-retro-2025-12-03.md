# Epic 1 Retrospective — Foundation & Persistence (2025-12-03)

## Context
- Epic: 1 — Foundation & Persistence
- Stories delivered: 4/4 (1.1–1.4) — all marked done
- Environment: Local-only (no deployments yet)
- Stakeholder acceptance: Confirmed as “all good” by DICKY
- Team: Bob (Scrum Master), Alice (Product Owner), Charlie (Senior Dev), Dana (QA), DICKY (Project Lead)

## What Went Well
1. Stable scaffolding: Vite/React 19.2 setup with pinned engines ensures predictable local runs.
2. Data safety: Atomic storage helpers with schema validation prevent corruption and surface structured errors.
3. Visibility: Last-updated hook wired into UI; users see freshness near filters.
4. Roster robustness: Validation rejects duplicates/empties; empty-state notice keeps UX clear.

## What Was Hard / Risks
1. Node version drift: Work verified on Node 20 locally while engines expect 22 → possible future CI/runtime mismatch.
2. Deployment gap: No staging/prod deployment path yet, so persistence behaviors unproven beyond local.
3. Test coverage focus: Good unit/component coverage, but no end-to-end flow to exercise booking + storage together.

## Lessons Learned
- Pinning versions early avoided churn in later stories; keep doing this before each epic.
- Structured `{ ok, error }` results made UI wiring straightforward; adopt this contract for all services.
- Empty-state UX (roster) reduces support questions; design empty states alongside features.

## Action Items (Owners)
1. Add CI job on Node 22.x to align with engines and catch env drift (Charlie).
2. Create staging environment plan (data seeds, backup/restore paths) before next deployment-oriented epic (Alice + Charlie).
3. Add one end-to-end happy-path test that covers roster load → booking write → last-updated refresh (Dana).

## Readiness Check
- Testing: Unit + component tests only; no integration/e2e yet → add before production push.
- Deployment: Not deployed; staging/prod pipeline needed.
- Stakeholder acceptance: Yes (local review confirmed).
- Stability: Codebase feels solid for local use; watch for environment drift and add e2e coverage.
- Blockers: None currently.

## Next Epic Preview (Epic 2 — Availability View & Navigation)
- Dependencies: Relies on storage/validation from Epic 1; ensure Node 22 parity before UI work.
- Prep needs: Staging environment and Node 22 CI should be in place so floorplan/availability features run in target stack.

## Critical Path Before Next Epic Starts
- CI on Node 22 in place.
- Staging environment decision recorded (even lightweight).
- At least one e2e happy-path test covering booking + last-updated.

---
Bob (Scrum Master): "Solid first epic, team. Let’s lock in CI/env and a minimal e2e so future epics aren’t surprised by env drift."
