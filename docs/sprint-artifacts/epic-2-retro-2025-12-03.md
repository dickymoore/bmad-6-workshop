# Epic 2 Retrospective — Availability View & Navigation (2025-12-03)

## Context
- Epic: 2 — Availability View & Navigation
- Stories delivered: 4/4 (2.1–2.4) — all marked done
- Environment: Local-only (no staging/prod yet)
- Stakeholder acceptance: Confirmed “all good” (DICKY)
- Team: Bob (Scrum Master), Alice (Product Owner), Charlie (Senior Dev), Dana (QA), DICKY (Project Lead)

## What Went Well
1. Cohesive filter-to-UI flow: office/floor/date selectors drive list and map consistently.
2. Accessibility focus: keyboardable hotspots, tooltips, ARIA labels, and contrast-checked legend.
3. Resilient rendering: invalid desk coords are logged and skipped without breaking the floorplan.
4. Visual clarity: availability coloring stays in sync with bookings and filters; legend mirrors overlay states.

## What Was Hard / Risks
1. Asset fragility: floorplan PNG pathing could break silently across envs; no automated asset existence check.
2. State sync complexity: keeping map, list, and filters aligned required careful shared state; regression risk without e2e coverage.
3. Node version drift persists: work run on Node 20 while engines specify 22; CI still missing.

## Lessons Learned
- Coordinate validation + graceful degradation prevented user-visible crashes; keep validating inputs from content files.
- Centralized tokens for colors reduced duplication across map and legend; continue centralizing shared UI primitives.
- Accessibility baked in early is cheaper than retrofitting—maintain this bar for booking interactions in Epic 3.

## Continuity from Previous Retro (Epic 1)
- Add CI on Node 22.x — **Pending**
- Define staging environment plan — **Pending**
- Add one e2e happy-path (roster→booking→last-updated) — **Pending**

## Action Items (Owners)
1. Add CI pipeline on Node 22.x to prevent env drift (Charlie).
2. Create automated check for floorplan asset presence and coordinate validity (Dana).
3. Add e2e coverage for filters → floorplan overlay → availability coloring sync (Dana).
4. Produce staging environment plan (data seeds, asset hosting) before deployment-oriented work (Alice + Charlie).

## Readiness Check
- Testing: Unit/component coverage good; no e2e yet → high value before bookings/transactions (Epic 3).
- Deployment: None; staging plan required for assets + data.
- Stakeholder acceptance: Yes (local review).
- Stability: UI state feels stable locally; asset pathing and env drift remain risks.
- Blockers: None, but action items above are prerequisites for confidence.

## Next Epic Preview (Epic 3 — Booking Actions & Rules)
- Dependencies: Relies on roster and availability surfaces built in Epics 1–2; booking conflicts/validation will reuse storage schemas.
- Prep needs: Node 22 CI + staging/asset plan + first e2e to de-risk booking flows.

## Critical Path Before Epic 3 Starts
- CI on Node 22 in place.
- Staging/asset hosting decision recorded.
- E2E coverage for filters → floorplan → booking/availability sync established.

---
Bob (Scrum Master): "Solid delivery on the availability experience. Let’s shore up CI, assets, and e2e before we start booking workflows in Epic 3."
